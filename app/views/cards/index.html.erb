<div id="main-container">
  <%= turbo_stream_from "cards" %>

  <table>
    <thead>
      <tr>
        <th>
          <%= turbo_frame_tag "new_card" do %>
            <%= render 'form', card: @card %>
          <% end %>
        </th>
      </tr>
    </thead>
    <tbody>
      <% @cards.order(id: :desc).each do |card| %>
        <tr id="card_<%= card.id %>">
          <!-- First Column: Trello Card -->
          <td data-controller="trello">
            <div class="card-content">
              <blockquote class="trello-card">
                <a href="<%= card.url %>">Trello Card</a>
              </blockquote>
            </div>
          </td>

          <!-- Second Column: User Names and Scores -->
          <td id="user_scores_<%= card.id %>" class="user-scores">
            <%= turbo_frame_tag "user_scores_#{card.id}" do %>
              <%= render partial: 'cards/user_scores', locals: { card: card } %>
            <% end %>
          </td>

          <!-- Third Column: Score Buttons -->
          <td id="score_buttons_<%= card.id %>" class="score-buttons">
            <%= render partial: 'cards/score_buttons', locals: { card: card } %>
          </td>

          <!-- Fourth Column: Admin-only Actions -->
          <td id="admin_actions_<%= card.id %>" class="admin-actions">
            <%= turbo_frame_tag "admin_actions_#{card.id}" do %>
              <%= render partial: 'cards/admin_actions', locals: { card: card } %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>